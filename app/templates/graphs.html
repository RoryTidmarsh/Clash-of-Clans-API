{% extends "base.html" %}

{% block title %}Progress Graphs{% endblock %}

{% block content %}
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
<div class="progress-graphs pastel-red-title">
    <h1>This feature is under development. Check back later!</h1>
</div>
<div class="main-data-box">
    <section id="filters">
        <label for="player">Players:</label>
        <div class="multi-select-dropdown" style="display: inline-block; min-width: 200px;">
            <button type="button" class="multi-select-trigger" id="player-trigger">
                <span id="filter-select">Select players</span>
                <span class="dropdown-arrow">â–¼</span>
            </button> 
            
            <div class="multi-select-panel" id="player-panel">
                <div>
                    <label class="multi-select-option select-all-option">
                        <input type="checkbox" id="select-all-players">
                        <span>Select All</span>
                    </label>
                    <hr class="multi-select-divider">

                    {% for player in all_players %}
                    <label class="multi-select-option">
                        <input 
                            type="checkbox" 
                            class="player-checkbox" 
                            value="{{ player }}"
                            checked
                        >
                        <span>{{ player }}</span>
                    </label>
                    {% endfor %}
                </div>
            </div>
        </div>

        <label for="stat-filter">Statistic (Y-Axis):</label>
        <select id="stat-filter">
            {% for stat in available_stats %}
            <option value="{{ stat.value }}" {% if loop.first %}selected{% endif %}>
                {{ stat.label }}
            </option>
            {% endfor %}
        </select>

        <button id="apply-filters" type="button">Apply Filters</button>
        <button id="reset-filters" type="button">Reset Filters</button>
    </section>

    <hr>

    <!-- GRAPH CONTAINER -->
    <section id="graph-section">
        <div class="graph-container">
            <canvas id="lineChart"></canvas>
        </div>
    </section>
</div>

{% endblock %}